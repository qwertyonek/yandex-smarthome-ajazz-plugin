# Yandex Smart Home Control for Ajazz/StreamDock

![Version](https://img.shields.io/badge/version-1.0.0-blue)
![Platform](https://img.shields.io/badge/platform-Windows-lightgrey)
![License](https://img.shields.io/badge/license-MIT-green)

–£–ø—Ä–∞–≤–ª—è–π—Ç–µ –≤–∞—à–∏–º –£–º–Ω—ã–º –¥–æ–º–æ–º –Ø–Ω–¥–µ–∫—Å –ø—Ä—è–º–æ —Å –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã Ajazz AKP153 –∏–ª–∏ –ª—é–±–æ–≥–æ –¥—Ä—É–≥–æ–≥–æ Stream Deck —Å–æ–≤–º–µ—Å—Ç–∏–º–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞!

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üéØ **–ó–∞–ø—É—Å–∫ —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤** –æ–¥–Ω–∏–º –Ω–∞–∂–∞—Ç–∏–µ–º
- üí° **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏** (–≤–∫–ª/–≤—ã–∫–ª)
- üé® **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∏–∫–æ–Ω–∫–∏** —Å –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π —Å–æ—Å—Ç–æ—è–Ω–∏—è
- üîÑ **–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** —Å–æ—Å—Ç–æ—è–Ω–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥
- üåà **–¶–≤–µ—Ç–æ–≤–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞** –ø–æ —Ç–∏–ø—É —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- üîê **–ì–ª–æ–±–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞** (–≤–≤–æ–¥–∏—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –¥–ª—è –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫)

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ –∏–Ω—Å—Ç–∞–ª–ª—è—Ç–æ—Ä (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –°–∫–∞—á–∞–π—Ç–µ —Ñ–∞–π–ª `tg.qwertyonek.yandexsmarthome.streamDockPlugin` –∏–∑ [Releases](../../releases)
2. –î–≤–∞–∂–¥—ã –∫–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —Ñ–∞–π–ª
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–æ—Ñ—Ç Ajazz/StreamDock

### –°–ø–æ—Å–æ–± 2: –†—É—á–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –°–∫–∞—á–∞–π—Ç–µ –∏ —Ä–∞—Å–ø–∞–∫—É–π—Ç–µ –∞—Ä—Ö–∏–≤
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–∞–ø–∫—É `tg.qwertyonek.yandexsmarthome.sdPlugin` –≤:
   - **Windows:** `%APPDATA%\HotSpot\StreamDock\plugins\`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–æ—Ñ—Ç

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –°–æ–∑–¥–∞–Ω–∏–µ OAuth –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [–Ø–Ω–¥–µ–∫—Å OAuth](https://oauth.yandex.ru/)
2. –ù–∞–∂–º–∏—Ç–µ **"–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"**
3. –í—ã–±–µ—Ä–∏—Ç–µ **"–î–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π"**
4. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:
   - **–ù–∞–∑–≤–∞–Ω–∏–µ:** –ª—é–±–æ–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "Smart Home Control")
   - **–ò–∫–æ–Ω–∫–∞:** –∑–∞–≥—Ä—É–∑–∏—Ç–µ –ª—é–±—É—é
   - **–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞:** –í–µ–±-—Å–µ—Ä–≤–∏—Å—ã
   - **Redirect URI:** `https://oauth.yandex.ru/verification_code`
5. –í —Ä–∞–∑–¥–µ–ª–µ **"–î–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º"** –¥–æ–±–∞–≤—å—Ç–µ:
   - `iot:view` ‚Äî –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ —É–º–Ω–æ–≥–æ –¥–æ–º–∞
   - `iot:control` ‚Äî –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏ —É–º–Ω–æ–≥–æ –¥–æ–º–∞
6. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ **Client ID**

### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞

**–°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ –≤–µ–±-—É—Ç–∏–ª–∏—Ç—É (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**

–û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É: [OAuth Token Helper](https://qwertyonek.github.io/yandex-smarthome-ajazz-plugin/oauth.html)

**–°–ø–æ—Å–æ–± 2: –í—Ä—É—á–Ω—É—é**

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ, –ø–æ–¥—Å—Ç–∞–≤–∏–≤ –≤–∞—à Client ID:
```
https://oauth.yandex.ru/authorize?response_type=token&client_id=–í–ê–®_CLIENT_ID
```

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω –∏–∑ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –ø–æ—Å–ª–µ `access_token=`


### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–ª–∞–≥–∏–Ω–∞

1. –î–æ–±–∞–≤—å—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ **"Smart Home Control"** –Ω–∞ –∫–Ω–æ–ø–∫—É
2. –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–Ω–æ–ø–∫–∏
3. –í—Å—Ç–∞–≤—å—Ç–µ OAuth —Ç–æ–∫–µ–Ω
4. –ù–∞–∂–º–∏—Ç–µ **"Check Connection & Load List"**
5. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø (Scenario/Device) –∏ –Ω—É–∂–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –∏–∑ —Å–ø–∏—Å–∫–∞

## üé® –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

–ü–ª–∞–≥–∏–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–±–∏—Ä–∞–µ—Ç –∏–∫–æ–Ω–∫—É –∏ —Ü–≤–µ—Ç –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞:

| –¢–∏–ø —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ | –ò–∫–æ–Ω–∫–∞ | –¶–≤–µ—Ç (–≤–∫–ª) |
|----------------|--------|------------|
| üí° –û—Å–≤–µ—â–µ–Ω–∏–µ | –õ–∞–º–ø–æ—á–∫–∞ | –ñ–µ–ª—Ç—ã–π |
| üîå –†–æ–∑–µ—Ç–∫–∏ | –í–∏–ª–∫–∞ | –°–∏–Ω–∏–π |
| ‚ùÑÔ∏è –ö–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä | –°–Ω–µ–∂–∏–Ω–∫–∞ | –ì–æ–ª—É–±–æ–π |
| ‚òï –ß–∞–π–Ω–∏–∫ | –ß–∞–π–Ω–∏–∫ | –ö—Ä–∞—Å–Ω—ã–π |
| üì∫ –¢–í | –¢–µ–ª–µ–≤–∏–∑–æ—Ä | –ñ–µ–ª—Ç—ã–π |
| ü§ñ –ü—ã–ª–µ—Å–æ—Å | –†–æ–±–æ—Ç | –ñ–µ–ª—Ç—ã–π |
| üö™ –®—Ç–æ—Ä—ã/–î–≤–µ—Ä–∏ | –î–≤–µ—Ä—å | –ó–µ–ª–µ–Ω—ã–π |
| üëÅÔ∏è –î–∞—Ç—á–∏–∫–∏ | –ì–ª–∞–∑ | –§–∏–æ–ª–µ—Ç–æ–≤—ã–π |

## üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

- **SDK Version:** 1 (Ajazz/StreamDock)
- **Node.js:** 20+
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** `ws`, `log4js`
- **API:** Yandex IoT API v1.0

## üìù –õ–æ–≥–∏

–õ–æ–≥–∏ –ø–ª–∞–≥–∏–Ω–∞ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤:
```
<PLUGIN_DIRECTORY>/plugin/log/
```

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –∏–ª–∏ –µ—Å—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è:
- Telegram: [@qwertyonek](https://t.me/qwertyonek)
- Issues: [GitHub Issues](../../issues)

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–º. [LICENSE](LICENSE)

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- **[onegamerstory](https://github.com/onegamerstory)** ‚Äî –∑–∞ –∏–¥–µ—é –∏ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ —Å–æ–∑–¥–∞—Ç—å —ç—Ç–æ—Ç –ø–ª–∞–≥–∏–Ω
- Yandex IoT API
- Ajazz/StreamDock Community

---

Made with ‚ù§Ô∏è by [qwertyonek](https://t.me/qwertyonek)
